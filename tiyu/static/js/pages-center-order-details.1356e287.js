(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-order-details"],{"3d94":function(e,t,i){"use strict";i.r(t);var s=i("e30b"),a=i("f7b8");for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);i("d2df");var r=i("2877"),d=Object(r["a"])(a["default"],s["a"],s["b"],!1,null,"10e9e6de",null);t["default"]=d.exports},"8bb1":function(e,t,i){var s=i("8e73");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("4f06").default;a("546c9064",s,!0,{sourceMap:!1,shadowMode:!1})},"8e73":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".order-list[data-v-10e9e6de]{width:%?750?%}.order-address[data-v-10e9e6de],.order-detail-cont[data-v-10e9e6de],.order-list-title[data-v-10e9e6de],.order-status[data-v-10e9e6de]{width:%?660?%;margin:0 auto}.order-list-title[data-v-10e9e6de]{padding:%?20?% 0}.order-status[data-v-10e9e6de]{padding:%?20?% 0;border-bottom:1px solid #efefef;font-size:%?32?%}.order-address[data-v-10e9e6de]{font-size:%?32?%;padding:%?40?% 0;line-height:%?50?%;border-bottom:1px solid #efefef}.order-address-text uni-text[data-v-10e9e6de]{padding-right:%?20?%}.order-address-cont[data-v-10e9e6de]{font-size:%?28?%;color:#8e8e8e}.order-detail-cont[data-v-10e9e6de]{padding:%?40?% 0;border-bottom:1px solid #efefef}.order-details[data-v-10e9e6de]{width:%?580?%;padding:%?40?%;margin:0 auto;border-radius:%?10?%;-webkit-box-shadow:1px 1px 4px rgba(0,0,0,.2);box-shadow:1px 1px 4px rgba(0,0,0,.2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.list-details-left[data-v-10e9e6de]{width:%?120?%;height:%?120?%;padding-right:%?20?%}.list-details-left uni-image[data-v-10e9e6de]{width:100%;height:100%}.list-details-right[data-v-10e9e6de]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.list-details-title[data-v-10e9e6de]{font-size:%?30?%;display:block;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.list-details-cont[data-v-10e9e6de]{padding-top:%?10?%;font-size:%?24?%;color:#8e8e8e}.order-top[data-v-10e9e6de]{padding-top:%?20?%}.order-msg-text[data-v-10e9e6de]{font-size:%?28?%;line-height:%?50?%}.operation-btn[data-v-10e9e6de]{width:%?750?%;height:%?88?%;background:#fe5960;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;bottom:0}.cancel-order[data-v-10e9e6de],.pay-order[data-v-10e9e6de]{width:50%;height:%?88?%;font-size:%?32?%;text-align:center;line-height:%?88?%;color:#fff}.pay-order[data-v-10e9e6de]{border-left:1px solid #fff}.payable[data-v-10e9e6de]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:%?28?%;border-bottom:0}.renminbi[data-v-10e9e6de]{font-family:texticons;color:red}.pay-class .pay-order[data-v-10e9e6de]{width:100%!important;border:0!important\n\t/* width: 100%!important; */}",""])},d2df:function(e,t,i){"use strict";var s=i("8bb1"),a=i.n(s);a.a},e30b:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"order-list-title"},[e._v("订单详情")]),i("v-uni-view",{staticClass:"order-status"},[e._v(e._s(e.orderList.statusText))]),e.orderList.addressShow?i("v-uni-view",{staticClass:"order-address"},[i("v-uni-view",{staticClass:"order-address-text"},[i("v-uni-text",[e._v(e._s(e.orderList.receiverName))]),e._v(e._s(e.orderList.receiverTel))],1),i("v-uni-view",{staticClass:"order-address-cont"},[e._v("地址："+e._s(e.orderList.receiverAddress))])],1):e._e(),i("v-uni-view",{staticClass:"order-detail-cont"},[i("v-uni-view",{staticClass:"order-details",on:{click:function(t){t=e.$handleEvent(t),e.plyBtn(e.orderList.orderType,e.orderList.itemId,e.orderList.orderNum,"查看宝贝")}}},[e.orderList.imgview?i("v-uni-view",{staticClass:"list-details-left"},[i("v-uni-image",{attrs:{src:e.imgDomain+e.orderList.skuPicUrl}})],1):e._e(),i("v-uni-view",{staticClass:"list-details-right"},[i("v-uni-view",{staticClass:"list-details-title"},[e._v(e._s(e.orderList.itemName))]),i("v-uni-view",{staticClass:"list-details-cont"},[e._v("类型："+e._s(e.orderList.typetext))]),i("v-uni-view",{staticClass:"list-details-cont"},[e._v("价格："+e._s(e.orderList.totalAmount))])],1)],1)],1),i("v-uni-view",{staticClass:"order-detail-cont"},[i("v-uni-view",{staticClass:"order-msg"},[i("v-uni-view",{staticClass:"order-msg-text"},[e._v("订单编号："+e._s(e.orderList.orderNum))]),i("v-uni-view",{staticClass:"order-msg-text"},[e._v("下单时间："+e._s(e.orderList.createDate))])],1),e.orderList.playCont?i("v-uni-view",{staticClass:"order-msg order-top"},[i("v-uni-view",{staticClass:"order-msg-text"},[e._v("支付方式："+e._s(e.orderList.plyText))]),i("v-uni-view",{staticClass:"order-msg-text"},[e._v("支付时间："+e._s(e.orderList.payTime))])],1):e._e()],1),i("v-uni-view",{staticClass:"order-detail-cont payable"},[i("v-uni-view",[e._v("应付款")]),i("v-uni-view",{staticClass:"renminbi"},[e._v(""+e._s(e.orderList.totalAmount))])],1),e.orderList.operationShow?i("v-uni-view",{staticClass:"operation-btn",class:e.orderList.payClass},[e.orderList.cancelCont?i("v-uni-view",{staticClass:"cancel-order",on:{click:function(t){t=e.$handleEvent(t),e.cancelBtn(e.orderList.id)}}},[e._v(e._s(e.orderList.cancelText))]):e._e(),i("v-uni-view",{staticClass:"pay-order",on:{click:function(t){t=e.$handleEvent(t),e.plyBtn(e.orderList.totalAmount,e.orderList.id,e.orderList.orderNum,e.orderList.payText)}}},[e._v(e._s(e.orderList.payText))])],1):e._e()],1)},a=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return a})},f51f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{imgDomain:"",userId:"",token:"",orderId:"",orderList:[],tagNum:""}},onLoad:function(e){var t=this,i="";t.orderId=e.orderId,uni.getStorage({key:"token",success:function(e){i=e.data}}),t.token=i;var s="";uni.getStorage({key:"user_Id",success:function(e){s=e.data}}),t.userId=s,t.imgDomain=t.$store.state.center.imgDomain,t.huoquFun()},onNavigationBarButtonTap:function(e){0==e.index&&uni.navigateBack({delta:1})},methods:{cancelBtn:function(e){var t=this;uni.showModal({title:"取消订单",content:"您确定要取消当前订单？",success:function(i){i.confirm?uni.request({url:t.$webUrl+t.$changeOrder,header:{token:""+t.token},data:{id:e,payState:4,status:3},method:"PUT",success:function(e){var i=e;console.log(i),t.huoquFun()},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}}):i.cancel&&console.log("用户点击取消")}})},plyBtn:function(e,t,i,s){var a=this;if(console.log(e,t,i,s),"立即支付"==s&&uni.navigateTo({url:"/pages/communication/pay?fee="+e+"&orderId="+t+"&orderNum="+i}),"查看宝贝"==s){if(1==e){var o="../communication/consult-expert-detail?id="+t;uni.navigateTo({url:o})}if(2==e){var r="../video/course-detail?courseId="+t+"&flag=1";uni.navigateTo({url:r})}if(3==e){var d="../video/course-detail?courseId="+t+"&flag=2";uni.navigateTo({url:d})}if(4==e){var n="../video/course-detail?courseId="+t+"&flag=3";uni.navigateTo({url:n})}}"确认收货"==s&&uni.showModal({title:"取消订单",content:"您确定要取消当前订单？",success:function(e){e.confirm?uni.request({url:a.$webUrl+a.$changeOrder,header:{token:""+a.token},data:{id:t,setState:3,status:1},method:"PUT",success:function(e){a.huoquFun()},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}}):e.cancel&&console.log("用户点击取消")}})},huoquFun:function(){var e=this;uni.request({url:e.$webUrl+e.$getOrderInfo+"/"+e.orderId,header:{token:""+e.token},method:"GET",success:function(t){var i=t.data.data;if(3==i.status&&(e.$set(i,"statusText","已取消"),e.$set(i,"playCont",!1),e.$set(i,"operationShow",!1),e.$set(i,"paymentText","应付款")),3==i.payState?(e.$set(i,"statusText","未支付"),e.$set(i,"playCont",!1),e.$set(i,"operationShow",!0),e.$set(i,"paymentText","应付款"),e.$set(i,"cancelText","取消订单"),e.$set(i,"payText","立即支付"),e.$set(i,"cancelCont",!0)):e.$set(i,"cancelCont",!1),1==i.payState&&2==i.setState&&(e.$set(i,"statusText","待发货"),e.$set(i,"operationShow",!1),e.$set(i,"paymentText","实付款"),e.$set(i,"playCont",!0)),1==i.setState&&(e.$set(i,"statusText","待收货"),e.$set(i,"paymentText","实付款"),e.$set(i,"operationShow",!0),e.$set(i,"payText","确认收货"),e.$set(i,"payClass","pay-class"),e.$set(i,"playCont",!0)),3==i.setState&&(e.$set(i,"statusText","已收货"),e.$set(i,"paymentText","实付款"),e.$set(i,"operationShow",!1),e.$set(i,"playCont",!0)),""==i.receiverName||null==i.receiverName?e.$set(i,"addressShow",!1):e.$set(i,"addressShow",!0),1==i.orderType&&e.$set(i,"typetext","咨询"),2==i.orderType&&e.$set(i,"typetext","课程"),3==i.orderType&&e.$set(i,"typetext","器材"),4==i.orderType&&e.$set(i,"typetext","课程器材套餐"),""==i.skuPicUrl||null==i.skuPicUrl)e.$set(i,"imgview",!1);else{var s=i.skuPicUrl.substring(0,4);if(console.log(s),"http"==s){var a=e.GetUrlRelativePath(i.skuPicUrl);console.log(a),e.$set(i,"skuPicUrl",a)}e.$set(i,"imgview",!0)}1==i.payType&&e.$set(i,"plyText","微信支付"),2==i.payType&&e.$set(i,"plyText","支付宝支付"),console.log(i),e.orderList=i},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})},GetUrlRelativePath:function(e){var t=e.toString(),i=t.split("//"),s=i[1].indexOf("/"),a=i[1].substring(s);return-1!=a.indexOf("?")&&(a=a.split("?")[0]),a}}};t.default=s},f7b8:function(e,t,i){"use strict";i.r(t);var s=i("f51f"),a=i.n(s);for(var o in s)"default"!==o&&function(e){i.d(t,e,function(){return s[e]})}(o);t["default"]=a.a}}]);