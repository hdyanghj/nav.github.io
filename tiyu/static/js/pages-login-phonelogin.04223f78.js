(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-phonelogin"],{"121b":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".login-body[data-v-894dddb4]{width:%?660?%;margin:0 auto;position:relative}.login-title[data-v-894dddb4]{margin:0}.login-mobile[data-v-894dddb4],.login-password[data-v-894dddb4]{font-size:%?34?%;color:#4a4a4a}.login-mobile-cont[data-v-894dddb4]{width:100%;height:%?54?%;padding:%?40?% 0 %?10?%;border-bottom:1px solid #efefef;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative}.login-gsd[data-v-894dddb4]{border:1px solid #ccc;padding:%?5?% %?20?%;font-size:%?30?%}.login-mobile-input[data-v-894dddb4]{padding-left:%?20?%}.login-input[data-v-894dddb4]{width:%?540?%;font-size:%?32?%;line-height:%?54?%;border:none;outline:none}.login-password[data-v-894dddb4]{padding-top:%?50?%}.login-xianshi[data-v-894dddb4]{height:%?54?%;line-height:%?54?%;position:absolute;right:%?0?%;top:%?40?%;font-size:%?26?%;color:#03b2ca}.login-button[data-v-894dddb4]{padding-top:%?100?%}.login-code[data-v-894dddb4]{padding-top:%?40?%;font-size:%?26?%;color:#03b2ca;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.login-code-tishi[data-v-894dddb4]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:left;color:#000}.login-code-pass[data-v-894dddb4]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:right}.Tripartite-icon.button-hover[data-v-894dddb4]{background:none!important}",""])},2190:function(t,e,n){"use strict";n.r(e);var i=n("e82b"),o=n("24e1");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("f069");var s=n("2877"),d=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"894dddb4",null);e["default"]=d.exports},"24e1":function(t,e,n){"use strict";n.r(e);var i=n("40cc"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},3697:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{platform:String},data:function(){return{login:"",userInfo:{}}},onLoad:function(){var t=this;"weixin"==this.platform&&uni.login({provider:this.platform,success:function(e){t.login=t.platform,uni.getUserInfo({provider:t.login,success:function(e){t.hasUserInfo=!0,t.userInfo=e.userInfo,uni.setStorage({key:"weixinMsg",data:t.userInfo}),t.weixinLogin()},fail:function(t){var e=JSON.stringify(t);console.log(e),uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})},fail:function(e){t.$emit("codeClick",!1),uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})},methods:{weixinLogin:function(){var t=this;console.log(111),uni.request({url:this.$webUrl+this.$getUserInfo,header:{"content-type":"application/x-www-form-urlencoded"},data:{openId:this.userInfo.openId},method:"GET",success:function(e){var n=e.data.data;if(console.log(JSON.stringify(n)),console.log(t.userInfo.openId),0==n.code){var i=n.user;uni.setStorage({key:"user_Info",data:{username:i.username,headSculpture:i.headSculpture,remarks:i.remarks,gender:i.gender,birthday:i.birthday,email:i.email,mobile:i.mobile}}),uni.setStorage({key:"user_Id",data:i.id}),uni.setStorage({key:"token",data:n.token}),uni.switchTab({url:"../center/center"})}3==n.code&&uni.navigateTo({url:"bind-phone"})},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})},complete:function(){t.loading=!1}})}}};e.default=i},"37f1":function(t,e,n){"use strict";n.r(e);var i=n("3697"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"40cc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("7234"));function o(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{mobile:"",areaCode:"86",disaBled:!0,winHeight:0,providerList:[],platform:"",weChat:!1}},components:{WeChat:i.default},onLoad:function(){var t=this;uni.getProvider({service:"oauth",success:function(e){t.providerList=e.provider.map(function(t){switch(t){case"weixin":return{name:"../../static/login-weixin.png",id:t,show:!0};case"qq":return{name:"../../static/login-qq.png",id:t,show:!1};case"sinaweibo":return{name:"../../static/login-weibo.png",id:t,show:!1}}})},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})},mounted:function(){this.winHeight=uni.getSystemInfoSync().windowHeight,this.aCode()},methods:{aCode:function(){var t=this,e="",n="";uni.getStorage({key:"AreaCode",success:function(t){e=t.data.code,n=t.data.phoneNumber}}),""!=e&&(t.areaCode=e,t.mobile=n),11==n.length&&(t.disaBled=!1)},bindLogin:function(t){console.log(t.id),this.platform=t.id,this.weChat=!0},codeClick:function(t){this.weChat=t},passwordLogin:function(){uni.navigateTo({url:"login"})},termsb:function(){uni.navigateTo({url:"/pages/center/account/user-agreement"})},policy:function(){uni.navigateTo({url:"/pages/center/account/privacy-protocol"})},areaButton:function(){uni.navigateTo({url:"../phones/phones"})},search:function(t){var e=this,n=t.detail.value.length;e.mobile=t.detail.value,uni.setStorage({key:"AreaCode",data:{phoneNumber:e.mobile,code:e.areaCode}}),e.disaBled=11!=n},obtainCode:function(t){var e=this,n=/^1[3456789]\d{9}$/;n.test(e.mobile)?uni.setStorage({key:"AreaCode",data:{phoneNumber:e.mobile,code:e.areaCode},success:function(){uni.navigateTo({url:"yanzhengma"})}}):uni.showToast({icon:"none",duration:3e3,title:"手机格式不正确"})}}};e.default=a},7234:function(t,e,n){"use strict";n.r(e);var i=n("ad4c"),o=n("37f1");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);var s=n("2877"),d=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"234c88eb",null);e["default"]=d.exports},ad4c:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"})},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},c8a4:function(t,e,n){var i=n("121b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("24103060",i,!0,{sourceMap:!1,shadowMode:!1})},e82b:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login-body",style:{height:t.winHeight+"px"}},[n("v-uni-view",{staticClass:"login-title"},[t._v("登录")]),n("v-uni-view",{staticClass:"login-mobile"},[t._v("手机号")]),n("v-uni-view",{staticClass:"login-mobile-cont"},[n("v-uni-view",{staticClass:"login-gsd",on:{click:function(e){e=t.$handleEvent(e),t.areaButton(e)}}},[t._v("+"+t._s(t.areaCode))]),n("v-uni-view",{staticClass:"login-mobile-input"},[n("v-uni-input",{staticClass:"login-input",attrs:{type:"number",maxlength:"11",value:t.mobile},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e=t.$handleEvent(e),t.search(e)},input:function(e){e=t.$handleEvent(e),t.search(e)}}})],1)],1),n("v-uni-view",{staticClass:"login-button"},[n("v-uni-button",{staticClass:"normalButton",attrs:{disabled:t.disaBled},on:{click:function(e){e=t.$handleEvent(e),t.obtainCode()}}},[t._v("获取手机验证码")])],1),n("v-uni-view",{staticClass:"login-code"},[n("v-uni-view",{staticClass:"login-code-tishi"},[t._v("未注册用户验证后自动登录")]),n("v-uni-view",{staticClass:"login-code-pass",on:{click:function(e){e=t.$handleEvent(e),t.passwordLogin(e)}}},[t._v("密码登录")])],1),n("v-uni-view",{staticClass:"Tripartite"},[n("v-uni-view",{staticClass:"pact-footer"},[n("v-uni-view",{staticClass:"pact-footer-cont"},[t._v("登录表明已阅读并接受"),n("v-uni-text",{staticClass:"pact-footer-text",on:{click:function(e){e=t.$handleEvent(e),t.termsb(e)}}},[t._v("用户协议")]),t._v("和"),n("v-uni-text",{staticClass:"pact-footer-text",on:{click:function(e){e=t.$handleEvent(e),t.policy(e)}}},[t._v("隐私政策")])],1)],1)],1),t.weChat?n("WeChat",{attrs:{platform:t.platform},on:{codeClick:function(e){e=t.$handleEvent(e),t.codeClick(e)}}}):t._e()],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},f069:function(t,e,n){"use strict";var i=n("c8a4"),o=n.n(i);o.a}}]);