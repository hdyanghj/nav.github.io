(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-edit-person"],{"112d":function(t,i,e){"use strict";e.r(i);var a=e("8e79"),n=e("80a2");for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);e("543b");var o=e("2877"),u=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"71e358af",null);i["default"]=u.exports},"25e7":function(t,i,e){"use strict";var a=e("b919"),n=e.n(a);n.a},"543b":function(t,i,e){"use strict";var a=e("d596"),n=e.n(a);n.a},"67ca":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"body-posture"},[e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("姓名")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"text",placeholder:"请输入测试人姓名"},model:{value:t.name,callback:function(i){t.name=i},expression:"name"}})],1)],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("性别")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-radio-group",{staticClass:"radio-group",on:{change:function(i){i=t.$handleEvent(i),t.radioChange(i)}}},t._l(t.items,function(i){return e("v-uni-label",{staticClass:"radio-list"},[e("v-uni-radio",{staticClass:"radio-list-icon",attrs:{value:i.value,checked:i.checked}}),t._v(t._s(i.value))],1)}),1)],1)],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("年龄")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{placeholder:t.agedata,disabled:""},on:{click:function(i){i=t.$handleEvent(i),t.dianxian(i)}}})],1)],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("身高")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"text",placeholder:"请输入测试人身高"},model:{value:t.bodyHeight,callback:function(i){t.bodyHeight=i},expression:"bodyHeight"}})],1),e("v-uni-view",{staticClass:"danwei"},[t._v("CM")])],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("体重")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"text",placeholder:"请输入测试人体重"},model:{value:t.bodyWeight,callback:function(i){t.bodyWeight=i},expression:"bodyWeight"}})],1),e("v-uni-view",{staticClass:"danwei"},[t._v("KG")])],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("病史")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"text",placeholder:"请输入测试人病史"},model:{value:t.mediHistory,callback:function(i){t.mediHistory=i},expression:"mediHistory"}})],1)],1),e("v-uni-view",{staticClass:"login-button"},[e("v-uni-button",{staticClass:"normalButton",attrs:{disabled:t.disaBled},on:{click:function(i){i=t.$handleEvent(i),t.obtainCode()}}},[t._v("修改")])],1),e("v-uni-view",{staticClass:"login-button"},[e("v-uni-button",{staticClass:"deleteButton",attrs:{disabled:t.disaBled},on:{click:function(i){i=t.$handleEvent(i),t.deleteBut()}}},[t._v("删除")])],1),e("xy-dialog",{ref:"xyDialogset",on:{quxiaoButton:function(i){i=t.$handleEvent(i),t.quxiaobutton(i)},quedingButton:function(i){i=t.$handleEvent(i),t.quedingbutton(i)}}})],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"80a2":function(t,i,e){"use strict";e.r(i);var a=e("b2ff"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);i["default"]=n.a},"8e79":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.shixian,expression:"shixian"}],staticClass:"zhezhao"},[e("v-uni-view",{staticClass:"xuanzeqi"},[e("v-uni-view",{staticClass:"quxiaoqueren"},[e("v-uni-view",{staticClass:"quniu",on:{click:function(i){i=t.$handleEvent(i),t.quxiaobutton(i)}}},[t._v("取消")]),e("v-uni-view",{staticClass:"queniu",on:{click:function(i){i=t.$handleEvent(i),t.quedingbutton(i)}}},[t._v("确定")])],1),t.visible?e("v-uni-picker-view",{staticClass:"shigun",attrs:{"indicator-style":t.indicatorStyle,value:t.value},on:{change:function(i){i=t.$handleEvent(i),t.bindChange(i)}}},[e("v-uni-picker-view-column",t._l(t.years,function(i,a){return e("v-uni-view",{key:a,staticClass:"itemd"},[t._v(t._s(i)+"年")])}),1),e("v-uni-picker-view-column",t._l(t.months,function(i,a){return e("v-uni-view",{key:a,staticClass:"itemd"},[t._v(t._s(i)+"月")])}),1),e("v-uni-picker-view-column",t._l(t.days,function(i,a){return e("v-uni-view",{key:a,staticClass:"itemd"},[t._v(t._s(i)+"日")])}),1)],1):t._e()],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"922f":function(t,i,e){"use strict";e.r(i);var a=e("67ca"),n=e("a2a2");for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);e("25e7");var o=e("2877"),u=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"0c5e6977",null);i["default"]=u.exports},a2a2:function(t,i,e){"use strict";e.r(i);var a=e("dc94"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);i["default"]=n.a},ad37:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".zhezhao[data-v-71e358af]{position:fixed;width:100%;height:100%;top:%?0?%;right:%?0?%;bottom:%?0?%;left:%?0?%;-webkit-transition:.15s;background:rgba(0,0,0,.5);z-index:10}.xuanzeqi[data-v-71e358af]{width:100%;background-color:#fff;height:%?500?%;position:absolute;bottom:%?0?%;left:%?0?%;z-index:20;display:block}.quxiaoqueren[data-v-71e358af]{height:%?80?%;width:100%;display:block;border-bottom:1px solid #d8d8d8;position:relative;top:%?0?%;left:%?0?%}.quniu[data-v-71e358af]{width:%?80?%;border-radius:%?6?%;height:%?50?%;line-height:%?50?%;text-align:center;color:#000;float:left;margin-left:%?20?%;font-size:%?30?%;display:block;margin-top:%?15?%}.queniu[data-v-71e358af]{width:%?80?%;border-radius:%?6?%;height:%?50?%;line-height:%?50?%;background-color:#19b955;text-align:center;color:#fff;float:right;display:block;font-size:%?30?%;margin-right:%?20?%;margin-top:%?15?%}.shigun[data-v-71e358af]{background-color:#fff;width:80%;display:block;height:%?500?%;margin:0 auto}.itemd[data-v-71e358af]{text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}",""])},b2ff:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){for(var t=new Date,i=[],e=t.getFullYear(),a=[],n=t.getMonth()+1,s=[],o=t.getDate(),u=1949;u<=t.getFullYear();u++)i.push(u);for(var d=1;d<=12;d++)d<10?a.push("0"+d):a.push(d);for(var r=1;r<=31;r++)r<10?s.push("0"+r):s.push(r);return{title:"picker-view",years:i,year:e,months:a,month:n,days:s,day:o,value:[9999,n-1,o-1],visible:!0,indicatorStyle:"height: ".concat(Math.round(uni.getSystemInfoSync().screenWidth/7.5),"px;"),shixian:!1}},methods:{confirm:function(){this.shixian=!0},bindChange:function(t){var i=t.detail.value;this.year=this.years[i[0]],this.month=this.months[i[1]],this.day=this.days[i[2]],console.log(this.day)},quxiaobutton:function(){this.shixian=!1,this.$emit("quxiaoButton")},quedingbutton:function(t){t=this.year+"-"+this.month+"-"+this.day;this.shixian=!1,this.$emit("quedingButton",t)}}};i.default=a},b919:function(t,i,e){var a=e("e8d7");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("3d298e65",a,!0,{sourceMap:!1,shadowMode:!1})},d596:function(t,i,e){var a=e("ad37");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("0394187e",a,!0,{sourceMap:!1,shadowMode:!1})},dc94:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("112d"));function n(t){return t&&t.__esModule?t:{default:t}}var s={components:{xyDialog:a.default},data:function(){return{name:"",bodyHeight:"",bodyWeight:"",mediHistory:"",items:[{value:"男",checked:"true"},{value:"女"}],sex:"1",morenzhi:"",agedata:"请选择测试人年龄",disaBled:!1,id:"",token:"",edit_Id:"",addlist:[]}},onShow:function(){this.detail()},methods:{detail:function(){var t="";uni.getStorage({key:"token",success:function(i){t=i.data}}),this.token=t;var i="";uni.getStorage({key:"user_Id",success:function(t){i=t.data}}),this.id=i;var e="";uni.getStorage({key:"edit_Id",success:function(t){e=t.data}}),this.edit_Id=e;var a="";uni.getStorage({key:"addlist",success:function(t){a=t.data}}),this.addlist=a;for(var n=0;n<this.addlist.length;n++)this.addlist[n].id==this.edit_Id&&(this.name=this.addlist[n].memberName,this.morenzhi=this.addlist[n].birthday,this.agedata=this.addlist[n].age+"岁",this.bodyHeight=this.addlist[n].height,this.bodyWeight=this.addlist[n].weight,this.mediHistory=this.addlist[n].medicalHistory,1==this.addlist[n].memberSex&&(this.items[0].checked=!0,this.items[1].checked=!1),2==this.addlist[n].memberSex&&(this.items[0].checked=!1,this.items[1].checked=!0));if(""!=this.token){var s=new Date,o=s.getFullYear(),u=s.getMonth(),d=s.getDate();this.date="".concat(o,"-").concat(u,"-").concat(d)}else uni.redirectTo({url:"../login/login"})},radioChange:function(t){"男"==t.detail.value&&(this.sex="1"),"女"==t.detail.value&&(this.sex="2")},dianxian:function(){this.$refs.xyDialogset.confirm()},quedingbutton:function(t){console.log(t),this.morenzhi=t,console.log(this.morenzhi);var i=this.howold(this.morenzhi);console.log(i);var e=Number(i.substring(0,i.indexOf("岁")));this.agedata=e+"岁"},quxiaobutton:function(t){console.log("用户关闭了选择器")},howold:function(t){if(null!==t&&void 0!==t&&""!==t){var i=new Date,e=new Date(t),a=i.getTime()-e.getTime(),n=parseInt(a/864e5);if(n<30)return n+"天";if(n>=30&&n<=365){var s=parseInt(n%365/30)+"月"+parseInt(n%365%30)+"天";if(0==parseInt(n%365%30)){s=parseInt(n%365/30)+"月";return s}return s}if(n>365&&parseInt(n%365/30)<13){s=parseInt(n/365)+"岁"+parseInt(n%365/30)+"月";if(0==parseInt(n%365/30))s=parseInt(n/365)+"岁";return s}}},obtainCode:function(t){var i=this;uni.request({url:this.$webUrl+this.$addperson,header:{"content-type":"application/x-www-form-urlencoded",token:""+this.token},data:{id:this.edit_Id,userId:this.id,memberName:this.name,memberSex:this.sex,birthday:this.morenzhi,height:this.bodyHeight,weight:this.bodyWeight,medicalHistory:this.mediHistory},method:"PUT",success:function(t){console.log(i.morenzhi),uni.setStorage({key:"addlist",data:{id:i.edit_Id,userId:i.id,memberName:i.name,memberSex:i.sex,birthday:i.morenzhi,height:i.bodyHeight,weight:i.bodyWeight,medicalHistory:i.mediHistory}}),uni.navigateBack({delta:1})},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})},deleteBut:function(){uni.request({url:this.$webUrl+this.$delete,header:{"content-type":"application/x-www-form-urlencoded",token:""+this.token},data:{id:this.edit_Id},method:"GET",success:function(t){uni.showToast({icon:"none",duration:3e3,title:"删除成功"}),uni.navigateBack({delta:1})},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})}}};i.default=s},e8d7:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".body-posture[data-v-0c5e6977]{width:100%;padding:%?40?% 0 %?60?%}.body-posture-list[data-v-0c5e6977]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:%?32?%;border-bottom:1px solid #efefef;padding:%?30?%;margin-bottom:%?30?%;border-radius:%?10?%;-webkit-box-shadow:2px 2px 5px #efefef;box-shadow:2px 2px 5px #efefef;position:relative}.posture-noneborder[data-v-0c5e6977]{font-size:%?32?%;padding:0}.posture-tishi[data-v-0c5e6977]{color:red;font-size:%?24?%;padding:%?40?% 0}.posture-tishimsg[data-v-0c5e6977]{color:grey;font-size:%?24?%;padding:0 0 %?40?% 0}.posture-list-left[data-v-0c5e6977]{line-height:%?50?%;padding-right:%?30?%}.posture-list-right[data-v-0c5e6977]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.posture-list-input[data-v-0c5e6977]{line-height:%?50?%;font-size:%?30?%;color:grey}.radio-list[data-v-0c5e6977]{font-size:%?30?%;padding-right:%?60?%;color:grey}.radio-list-icon[data-v-0c5e6977]{padding-right:%?10?%}.age-icon[data-v-0c5e6977]{float:right;display:inline-block;font-family:texticons;color:#000}.login-button[data-v-0c5e6977]{width:%?600?%;margin:0 auto;padding:%?20?%}.danwei[data-v-0c5e6977]{height:%?50?%;line-height:%?50?%;position:absolute;right:%?20?%}uni-button.deleteButton[data-v-0c5e6977]{border-radius:%?60?%;background:#fe5278;font-size:%?34?%;color:#fff}.deleteButton.button-hover[data-v-0c5e6977]{background:#fa3f68!important}",""])}}]);