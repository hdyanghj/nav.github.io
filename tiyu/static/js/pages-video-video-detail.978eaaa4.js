(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-video-detail"],{"0c51":function(t,i,e){var n=e("81be");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("fd841e60",n,!0,{sourceMap:!1,shadowMode:!1})},"4a7d":function(t,i,e){"use strict";e.r(i);var n=e("ab23"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);i["default"]=a.a},"5edf":function(t,i,e){"use strict";e.r(i);var n=e("8332"),a=e("bad5");for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);e("e957");var s=e("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"7ab3816d",null);i["default"]=l.exports},7365:function(t,i,e){var n=e("e040");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("5a2455b7",n,!0,{sourceMap:!1,shadowMode:!1})},"776a":function(t,i,e){"use strict";var n=e("0c51"),a=e.n(n);a.a},"81be":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".none-reply[data-v-a42420b4]{width:%?304?%;margin:%?100?% auto %?140?%;text-align:center;opacity:.5}.none-reply>uni-image[data-v-a42420b4]{width:%?200?%;height:%?114?%}.none-reply>uni-view[data-v-a42420b4]{margin-top:%?20?%;font-size:%?26?%;color:#333}.d-wrap[data-v-a42420b4]{margin:%?34?%;font-family:PingFangSC-Regular}.play-btn[data-v-a42420b4]{position:absolute;top:%?160?%;left:%?320?%;font-size:%?120?%;font-weight:700;color:#fff}.img-view uni-image[data-v-a42420b4]{width:100%}.iconItem[data-v-a42420b4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.iconItem uni-view[data-v-a42420b4]:first-child{margin-right:%?60?%}.course-content[data-v-a42420b4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.course-view[data-v-a42420b4]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.course-title[data-v-a42420b4]{font-size:%?32?%}.course-detail[data-v-a42420b4]{font-size:%?28?%;color:#4a4a4a;line-height:%?40?%}.comment-list[data-v-a42420b4]{margin-bottom:%?145?%}.comment-flex[data-v-a42420b4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.comment-like[data-v-a42420b4]{font-size:%?26?%}.publish[data-v-a42420b4]{color:#03b2ca;padding-left:%?20?%;line-height:%?78?%}.click-like[data-v-a42420b4]{margin-right:%?16?%}.comment-input[data-v-a42420b4]{position:fixed;left:0;bottom:0;right:0;background-color:#f8f8f8;padding:%?20?% %?40?%;-webkit-box-shadow:0 0 %?8?% #f0f2f6;box-shadow:0 0 %?8?% #f0f2f6;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:PingFangSC-Regular;font-size:%?32?%;border-top:1px solid #f0f2f6}uni-input[data-v-a42420b4]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:%?10?% %?20?%;border-radius:%?10?%;background-color:#fff;height:%?70?%}.flex-btn[data-v-a42420b4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.btn[data-v-a42420b4]{height:%?76?%;width:%?130?%;line-height:%?76?%;padding:0 %?25?%;font-size:%?28?%;background:-o-linear-gradient(315deg,#a4eef7 0,#6bd8ed 100%);background:linear-gradient(135deg,#a4eef7,#6bd8ed);color:#000;border-radius:%?8?%;text-align:center}.like-active[data-v-a42420b4]{color:#6bd8ed}.switch[data-v-a42420b4]{margin-left:%?10?%}.comment-anonymity[data-v-a42420b4]{line-height:%?78?%;padding-right:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.anonymity[data-v-a42420b4]{padding-right:%?10?%;font-size:%?40?%;color:#ccc}.anonymity-active[data-v-a42420b4]{color:#6bd8ed}.anonymity-text[data-v-a42420b4]{font-size:%?26?%}",""])},8332:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"load-more"},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[e("v-uni-view",{staticClass:"load1"},[e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}})],1),e("v-uni-view",{staticClass:"load2"},[e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}})],1),e("v-uni-view",{staticClass:"load3"},[e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}})],1)],1),e("v-uni-text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:2===t.loadingType?t.contentText.contentnomore:t.contentText.contenterror))])],1)},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})},a0bd:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",contenterror:"加载错误"}}}},data:function(){return{}}};i.default=n},ab23:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("5edf"));function a(t){return t&&t.__esModule?t:{default:t}}var o={components:{uniLoadMore:n.default},data:function(){return{videoId:"",title:"",synopsis:"",praise:"",author:"",isActive:!1,isCollectActive:!1,timer:null,page:1,limit:5,loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},list:[],commentText:"",anonymity:0,playURL:"",cover:"",flag:!0,root:!0,isAnonymity:!1,token:""}},methods:{isLogin:function(){uni.getStorageSync("user_Id")||uni.navigateTo({url:"../login/login"})},playingVideo:function(){var t=this;uni.request({url:this.$webUrl+this.$playingVideo,method:"GET",data:{videoId:this.videoId},header:{token:this.token},success:function(i){i=i.data,t.root=i.msg},fail:function(){},complete:function(){}})},getVideoPlayInfo:function(){var t=this;uni.request({url:this.$webUrl+this.$getVideoPlayInfo+this.videoId,method:"GET",data:{userId:uni.getStorageSync("user_Id")},header:{token:this.token},success:function(i){if(i=i.data,0==i.code&&i.data){var e=i.data;t.title=e.title,t.synopsis=e.synopsis,t.praise=e.praise,t.author=e.author,t.cover=e.cover,1==e.likeStatus?t.isActive=!0:0==e.likeStatus&&(t.isActive=!1),1==e.collectStatus?t.isCollectActive=!0:0==e.collectStatus&&(t.isCollectActive=!1)}},fail:function(){},complete:function(){}})},getMommentsInfo:function(){var t=this;uni.request({url:this.$webUrl+this.$getMommentsInfo,method:"GET",data:{page:this.page,limit:this.limit,videoId:this.videoId,userId:uni.getStorageSync("user_Id")},header:{token:this.token},success:function(i){if(i=i.data,console.log(i),0==i.code&&i.data.list){if(t.list.length==i.data.count)return void(t.loadingType=2);t.page++,t.list=t.list.concat(i.data.list),t.loadingType=0,i.data.count<t.limit&&(t.loadingType=2)}},fail:function(){},complete:function(){}})},reachBottomMomments:function(){var t=this;null!=this.timer&&clearTimeout(this.timer),0===this.loadingType&&(1==this.flag?this.getMommentsInfo():(this.loadingType=1,this.timer=setTimeout(function(){t.getMommentsInfo()},1e3)))},handleVideoLike:function(){this.isLogin(),0==this.isActive&&this.handleToLike(this.videoId,1)},handleCommentsLike:function(t,i){if(uni.getStorageSync("user_Id")){if(1!=this.list[t].likeStatus){this.list[t].likeStatus=1;var e=this.list[t].praise;e++,this.list[t].praise=e,this.handleToLike(i,2)}}else uni.navigateTo({url:"../login/login"})},handleToLike:function(t,i){var e=this;uni.request({url:this.$webUrl+this.$handleToLike,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",token:this.token},data:{marking:t,type:i},success:function(t){t=t.data,0==t.code&&1==i&&(0==e.isActive&&e.praise++,e.isActive=!0)},fail:function(){},complete:function(){}})},handleToCollect:function(){var t=this;this.isLogin(),uni.request({url:this.$webUrl+this.$handleToVideoCollect,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",token:this.token},data:{marking:this.videoId,type:2},success:function(i){i=i.data,0==i.code&&(t.isCollectActive=!0)},fail:function(){},complete:function(){}})},handleAnonymity:function(){this.isAnonymity=!this.isAnonymity,1==this.isAnonymity?this.anonymity=1:this.anonymity=0},writeComments:function(){var t=this;uni.getStorageSync("user_Id")?""!=this.commentText.replace(/\s+/g,"")?uni.request({url:this.$webUrl+this.$writeComments,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",token:this.token},data:{videoId:this.videoId,content:this.commentText,anonymity:this.anonymity},success:function(i){if(i=i.data,0==i.code)t.loadingType=0,t.list=[],t.page=1,t.flag=!0,t.reachBottomMomments(),t.commentText="";else if(100005002==i.code)return void uni.showToast({icon:"none",duration:3e3,title:"登录已失效，请重新登录！"})},fail:function(){},complete:function(){}}):uni.showToast({icon:"none",duration:3e3,title:"评论不能为空！"}):uni.navigateTo({url:"../login/login"})},handleToVideoPay:function(){uni.navigateTo({url:"video-pay?videoId="+this.videoId})},handleToAliplayer:function(){this.isLogin(),console.log(this.root),"token失效，请重新登录"!=this.root?"success"==this.root?uni.navigateTo({url:"aliplayer?videoId="+this.videoId+"&token="+this.token+"&title="+this.title}):uni.showToast({icon:"none",duration:3e3,title:this.root}):uni.showToast({icon:"none",duration:3e3,title:"登录失效，请重新登录！"})}},onLoad:function(t){this.token=uni.getStorageSync("token"),console.log(uni.getStorageSync("token")),this.videoId=t.videoId,this.getVideoPlayInfo(),this.reachBottomMomments(),this.playingVideo()},onReachBottom:function(){this.flag=!1,this.reachBottomMomments()}};i.default=o},aecf:function(t,i,e){"use strict";e.r(i);var n=e("fe59"),a=e("4a7d");for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);e("776a");var s=e("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"a42420b4",null);i["default"]=l.exports},bad5:function(t,i,e){"use strict";e.r(i);var n=e("a0bd"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);i["default"]=a.a},e040:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".load-more[data-v-7ab3816d]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.loading-img[data-v-7ab3816d]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-7ab3816d]{font-size:%?28?%;color:#777}.loading-img>uni-view[data-v-7ab3816d]{position:absolute}.load1[data-v-7ab3816d],.load2[data-v-7ab3816d],.load3[data-v-7ab3816d]{height:24px;width:24px}.load2[data-v-7ab3816d]{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-7ab3816d]{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-7ab3816d]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;-ms-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-7ab3816d 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-7ab3816d]:first-child{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-7ab3816d]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-7ab3816d]:nth-child(3){-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-7ab3816d]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-7ab3816d]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-7ab3816d]:first-child{-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-7ab3816d]:first-child{-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-7ab3816d]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-7ab3816d]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-7ab3816d]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-7ab3816d]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-7ab3816d]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-7ab3816d]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-7ab3816d]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-7ab3816d]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-7ab3816d]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-7ab3816d{0%{opacity:1}to{opacity:.2}}",""])},e957:function(t,i,e){"use strict";var n=e("7365"),a=e.n(n);a.a},fe59:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"video-play"},[e("v-uni-view",{staticClass:"img-view",on:{click:function(i){i=t.$handleEvent(i),t.handleToAliplayer(i)}}},[e("v-uni-image",{attrs:{src:t.cover}}),e("v-uni-view",{staticClass:"play-btn"},[e("v-uni-text",{staticClass:"iconfont"},[t._v("")])],1)],1),e("v-uni-view",{staticClass:"d-wrap"},[e("v-uni-view",{staticClass:"iconItem"},[e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.handleVideoLike(i)}}},[t.isActive?e("v-uni-text",[e("v-uni-text",{staticClass:"iconfont click-like",class:[t.isActive?"like-active":""]},[t._v("")]),e("v-uni-text",[t._v(t._s(t.praise))])],1):e("v-uni-text",[e("v-uni-text",{staticClass:"iconfont click-like",class:[t.isActive?"like-active":""]},[t._v("")]),e("v-uni-text",[t._v(t._s(t.praise))])],1)],1),e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.handleToCollect(i)}}},[t.isCollectActive?e("v-uni-text",[e("v-uni-text",{staticClass:"iconfont",class:[t.isCollectActive?"like-active":""]},[t._v("")])],1):e("v-uni-text",[e("v-uni-text",{staticClass:"iconfont",class:[t.isCollectActive?"like-active":""]},[t._v("")])],1)],1)],1),e("v-uni-view",{staticClass:"course-content"},[e("v-uni-view",{staticClass:"course-view"},[e("v-uni-view",{staticClass:"course-title"},[t._v(t._s(t.title))]),e("v-uni-view",{staticClass:"course-detail module border-underline"},[t._v(t._s(t.synopsis))])],1)],1),e("v-uni-view",{staticClass:"comment-list"},[e("v-uni-view",{staticClass:"module-title"},[t._v("评论列表")]),t.list.length?e("v-uni-view",{staticClass:"module comments"},[t._l(t.list,function(i,n){return e("v-uni-view",{key:n,staticClass:"comment"},[e("v-uni-view",[i.anonymity?e("v-uni-image",{attrs:{src:"../../static/avatar_you.png"}}):e("v-uni-image",{attrs:{src:i.headSculpture?i.headSculpture:"../../static/avatar_you.png"}})],1),e("v-uni-view",{staticClass:"comment-sub"},[e("v-uni-view",{staticClass:"comment-flex"},[e("v-uni-view",{staticClass:"comment-from"},[t._v(t._s(i.userName))]),e("v-uni-view",{staticClass:"comment-like",on:{click:function(e){e=t.$handleEvent(e),t.handleCommentsLike(n,i.id)}}},[i.likeStatus?e("v-uni-text",[e("v-uni-text",{staticClass:"iconfont click-like",class:[i.likeStatus?"like-active":""]},[t._v("")])],1):e("v-uni-text",[e("v-uni-text",{staticClass:"iconfont click-like",class:[i.likeStatus?"like-active":""]},[t._v("")])],1),e("v-uni-text",[t._v(t._s(i.praise))])],1)],1),e("v-uni-view",{staticClass:"comment-time"},[t._v(t._s(i.createDate))]),e("v-uni-view",{staticClass:"comment-content"},[t._v(t._s(i.content))])],1)],1)}),e("uni-load-more",{attrs:{loadingType:t.loadingType,contentText:t.contentText}})],2):e("v-uni-view",{staticClass:"none-reply"},[e("v-uni-image",{attrs:{src:"/static/no-reply.png"}}),e("v-uni-view",[t._v("还没有评论 快来说两句")])],1)],1)],1),e("v-uni-view",{staticClass:"comment-input"},[e("v-uni-view",{staticClass:"comment-anonymity",on:{click:function(i){i=t.$handleEvent(i),t.handleAnonymity(i)}}},[e("v-uni-text",{staticClass:"iconfont anonymity",class:[t.isAnonymity?"anonymity-active":""]},[t._v("")]),e("v-uni-text",{staticClass:"anonymity-text"},[t._v("匿名")])],1),e("v-uni-input",{attrs:{type:"text",placeholder:"我来说几句"},model:{value:t.commentText,callback:function(i){t.commentText=i},expression:"commentText"}}),e("v-uni-view",{staticClass:"publish",on:{click:function(i){i=t.$handleEvent(i),t.writeComments(i)}}},[t._v("发表")])],1)],1)},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})}}]);