(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-body-posture-body-posture"],{"0d1c":function(t,e,i){"use strict";i.r(e);var s=i("e8c0"),a=i("3cfe");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("97f3");var o=i("2877"),r=Object(o["a"])(a["default"],s["a"],s["b"],!1,null,"5e17c6b8",null);e["default"]=r.exports},"3cfe":function(t,e,i){"use strict";i.r(e);var s=i("97ae"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=a.a},"60e3":function(t,e,i){var s=i("ad4c3");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("c7942d74",s,!0,{sourceMap:!1,shadowMode:!1})},"97ae":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{filter:"filter",people:"people",newShow:!0,selectShow:!1,name:"金银花",sex:["请选择","男","女"],age:"18岁",textnumber:"0",textValue:"",imageList:[{imgUrl:"",imageUrl:"",imgfile:!1,buttonfile:!0},{imgUrl:"",imageUrl:"",imgfile:!1,buttonfile:!0},{imgUrl:"",imageUrl:"",imgfile:!1,buttonfile:!0},{imgUrl:"",imageUrl:"",imgfile:!1,buttonfile:!0}],disaBled:!1,id:"",token:"",bodyMsg:{id:"",memberName:"",age:"",memberSex:""},direction:"",person_Id:"",addlist:[],promptBody:!1,promptImg:"",fee:1}},onNavigationBarButtonTap:function(t){0==t.index?uni.navigateBack({delta:1}):uni.navigateTo({url:"/pages/center/examination/report-list"})},onShow:function(t){this.detail()},methods:{detail:function(){var t="";uni.getStorage({key:"user_Id",success:function(e){t=e.data}});var e="";uni.getStorage({key:"token",success:function(t){e=t.data}}),this.token=e,this.id=t;var i="";if(uni.getStorage({key:"person_Id",success:function(t){i=t.data}}),this.person_Id=i,""!=this.token&&(""==this.person_Id&&this.huoquTcr(),""!=this.person_Id)){var s="";if(uni.getStorage({key:"addlist",success:function(t){s=t.data}}),this.addlist=s,""==this.addlist)this.huoquTcr();else{for(var a=0;a<this.addlist.length;a++)this.addlist[a].id==this.person_Id&&(this.bodyMsg.id=this.addlist[a].id,this.bodyMsg.memberName=this.addlist[a].memberName,this.bodyMsg.age=this.addlist[a].age,this.bodyMsg.memberSex=this.addlist[a].memberSex);this.newShow=!1,this.selectShow=!0}}},huoquTcr:function(){var t=this;uni.request({url:this.$webUrl+this.$UserDefault,header:{"content-type":"application/x-www-form-urlencoded",token:""+this.token},data:{userId:this.id},method:"GET",success:function(e){var i=e.data.data;if(""==i||null==i)return t.newShow=!0,void(t.selectShow=!1);""!=i&&(uni.setStorage({key:"person_Id",data:i.id}),t.bodyMsg.id=i.id,t.bodyMsg.memberName=i.memberName,t.bodyMsg.age=i.age,t.bodyMsg.memberSex=i.memberSex,t.newShow=!1,t.selectShow=!0)},fail:function(t){uni.showToast({title:"网络连接失败",duration:3e3,icon:"none"})}})},shootBtn:function(){uni.navigateTo({url:"./shooting-instructions"})},selectBut:function(t){"filter"==t&&uni.navigateTo({url:"../center/add-person"}),"people"==t&&(uni.setStorage({key:"jump_Key",data:"body"}),uni.navigateTo({url:"../center/add-list"}))},search:function(t){var e=this;e.textnumber=t.detail.value.length,e.textValue=t.detail.value},chooseImg:function(t){var e=this,i=t;""!=this.token?""!=this.bodyMsg.id?(0==i&&(this.direction="front"),1==i&&(this.direction="back"),2==i&&(this.direction="left"),3==i&&(this.direction="right"),uni.chooseImage({sizeType:["compressed"],sourceType:["camera"],count:1,success:function(t){t.tempFiles[0].size;e.imageList[i].imgUrl=t.tempFilePaths[0],e.imageList[i].imgfile=!0,e.imageList[i].buttonfile=!1,uni.uploadFile({url:e.$webUrl+e.$uploadPosture,filePath:t.tempFilePaths[0],header:{token:""+e.token},fileType:"image",name:"file",formData:{detectionUserId:e.bodyMsg.id,direction:e.direction},success:function(t){var s=JSON.parse(t.data);e.imageList[i].imageUrl=s.filename},fail:function(t){uni.showToast({title:"网络连接失败",duration:3e3,icon:"none"})}})}})):uni.showToast({icon:"none",duration:3e3,title:"请添加体测人"}):uni.showToast({icon:"none",duration:3e3,title:"请登录后重试"})},close:function(t){this.imageList[t].imgUrl="",this.imageList[t].imageUrl="",this.imageList[t].imgfile=!1,this.imageList[t].buttonfile=!0},promptBut:function(t){0==t&&(this.promptBody=!0,this.promptImg="../../static/front.png"),1==t&&(this.promptBody=!0,this.promptImg="../../static/back.png"),2==t&&(this.promptBody=!0,this.promptImg="../../static/left.png"),3==t&&(this.promptBody=!0,this.promptImg="../../static/right.png")},promptBtn:function(){this.promptBody=!1},obtainCode:function(){var t=this;if(""!=this.token){for(var e=[],i=0;i<this.imageList.length;i++)""!=this.imageList[i].imageUrl&&e.push(this.imageList[i].imageUrl);""!=this.id?""!=this.imageList[0].imgUrl?""!=this.imageList[2].imgUrl||""!=this.imageList[3].imgUrl?""!=this.imageList[3].imgUrl?e.length<3?uni.showToast({icon:"none",duration:3e3,title:"图片上传数量小于3张"}):(uni.showLoading({title:"上传中"}),e.length>=3&&uni.request({url:this.$webUrl+this.$bodyPosture,header:{"content-type":"application/x-www-form-urlencoded",token:""+this.token},data:{userId:this.bodyMsg.id,detectionUserId:this.id,description:this.textValue,memberName:this.bodyMsg.memberName,memberSex:this.bodyMsg.memberSex,memberAge:this.bodyMsg.age,frontPicture:this.imageList[0].imageUrl,backPicture:this.imageList[1].imageUrl,leftPicture:this.imageList[2].imageUrl,rightPicture:this.imageList[3].imageUrl},method:"POST",success:function(e){console.log("体质检测支付"),console.log(JSON.stringify(e));var i=e.data.data.orderId,s=e.data.data.orderNum;uni.hideLoading(),uni.showToast({icon:"none",duration:1500,title:"上传成功"}),setTimeout(function(){uni.navigateTo({url:"/pages/body-posture/pay?fee="+t.fee+"&orderId="+i+"&orderNum="+s})},1500)},fail:function(t){uni.showToast({title:"网络连接失败",duration:3e3,icon:"none"})}})):uni.showToast({icon:"none",duration:3e3,title:"请上传右面照"}):uni.showToast({icon:"none",duration:3e3,title:"请上传左面照"}):uni.showToast({icon:"none",duration:3e3,title:"请上传正面照"}):uni.showToast({icon:"none",duration:3e3,title:"请添加体测人"})}else uni.navigateTo({url:"../login/phonelogin"})}}};e.default=s},"97f3":function(t,e,i){"use strict";var s=i("60e3"),a=i.n(s);a.a},ad4c3:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.body-posture[data-v-5e17c6b8]{padding-bottom:%?60?%}.physicaltester[data-v-5e17c6b8]{width:%?600?%;padding:%?30?%;background-color:#f8f8f8;border-radius:%?10?%;position:relative}.phyNew[data-v-5e17c6b8]{color:#6bd8ed}.selectText[data-v-5e17c6b8]{line-height:%?40?%}.selectMsg[data-v-5e17c6b8]{padding-top:%?20?%;font-size:%?24?%}.selectMsg uni-text[data-v-5e17c6b8]{padding-right:%?60?%}.body-posture-title[data-v-5e17c6b8]{padding-top:%?40?%;position:relative}.shoot[data-v-5e17c6b8]{position:absolute;right:0;top:50%;color:red;font-weight:700;font-size:%?24?%;font-family:texticons}.newIcon[data-v-5e17c6b8]{width:%?36?%;height:%?36?%;padding:%?4?%;border-radius:50%;border:1px solid #6bd8ed;font-family:texticons;display:inline-block;color:#6bd8ed;margin-right:%?20?%;font-weight:700}.switchIcin[data-v-5e17c6b8]{position:absolute;right:%?20?%;top:50%;margin-top:%?-30?%;font-family:texticons;color:#6bd8ed;font-size:%?60?%}.img-upload[data-v-5e17c6b8]{padding-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.posture-noneborder[data-v-5e17c6b8]{width:29%;font-size:%?32?%;padding:0}.promptText[data-v-5e17c6b8]{padding-left:%?10?%;font-size:%?24?%;color:red}.shitu-cont[data-v-5e17c6b8]{position:relative;font-size:%?28?%}.promptBut[data-v-5e17c6b8]{padding:%?20?%;font-family:texticons;color:red;font-weight:700;position:absolute;top:%?-10?%;right:%?-20?%}.posture-tishi[data-v-5e17c6b8]{color:#535353;font-size:%?24?%;padding:%?30?% 0}.tishi-red[data-v-5e17c6b8]{color:#fe5960}.posture-tishimsg[data-v-5e17c6b8]{color:#535353;font-size:%?24?%;padding:%?30?% 0}.textarea-body[data-v-5e17c6b8]{width:100%;margin-top:%?20?%;font-size:%?32?%;padding:0;position:relative}.uni-textarea[data-v-5e17c6b8]{width:100%;position:relative}.body-textarea[data-v-5e17c6b8]{width:%?640?%;height:%?200?%;padding:%?10?%;background:#f8f8f8;border:1px solid #efefef;border-radius:%?10?%;font-size:%?24?%;line-height:%?40?%}.textarea-number[data-v-5e17c6b8]{position:absolute;width:%?200?%;height:%?40?%;right:0;text-align:right;bottom:0;padding:0 %?10?% %?10?% 0;color:#6bd8ed;font-size:%?24?%}.up-body[data-v-5e17c6b8]{width:100%;padding:0 0 %?20?%;position:relative}.up-body .up_files[data-v-5e17c6b8]{width:100%;margin:0 auto;border:1px solid #efefef;border-radius:%?10?%;overflow:hidden}.up_img[data-v-5e17c6b8]{width:100%;height:%?220?%;display:inline-block;vertical-align:middle}.close-view[data-v-5e17c6b8]{text-align:center;line-height:14px;height:16px;width:16px;border-radius:50%;background:#ff5053;color:#fff;position:absolute;top:%?10?%;right:%?-16?%;font-size:%?26?%}.up_button[data-v-5e17c6b8]{width:100%;height:%?220?%;position:relative}.up_button[data-v-5e17c6b8]:after,.up_button[data-v-5e17c6b8]:before{content:" ";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#6bd8ed}.up_button[data-v-5e17c6b8]:before{width:1px;height:39px}.up_button[data-v-5e17c6b8]:after{width:39px;height:1px}.up_input[data-v-5e17c6b8]{width:100%;height:100%}.prompt-body[data-v-5e17c6b8]{width:100%;height:120%;position:fixed;top:-10%;left:0;background:rgba(0,0,0,.8);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:99}.prompt-cont[data-v-5e17c6b8]{width:60%;height:%?680?%;border-radius:%?20?%;background:#fff;overflow:hidden}.prompt-cont uni-image[data-v-5e17c6b8]{width:100%;height:100%}',""])},e8c0:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"body-posture"},[i("v-uni-view",{staticClass:"physicaltester"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.newShow,expression:"newShow"}],staticClass:"phyNew",on:{click:function(e){e=t.$handleEvent(e),t.selectBut(t.filter)}}},[i("v-uni-text",{staticClass:"newIcon"},[t._v("")]),t._v("新增体测人")],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.selectShow,expression:"selectShow"}],staticClass:"phySelect",on:{click:function(e){e=t.$handleEvent(e),t.selectBut(t.people)}}},[i("v-uni-view",{staticClass:"selectText"},[t._v(t._s(t.bodyMsg.memberName))]),i("v-uni-view",{staticClass:"selectMsg"},[i("v-uni-text",[t._v("性别："+t._s(t.sex[t.bodyMsg.memberSex]))]),i("v-uni-text",[t._v("年龄："+t._s(t.bodyMsg.age)+"岁")])],1),i("v-uni-view",{staticClass:"switchIcin"},[t._v("")])],1)],1),i("v-uni-view",{staticClass:"body-posture-title"},[t._v("情况描述")]),i("v-uni-view",{staticClass:"textarea-body"},[i("v-uni-view",{staticClass:"uni-textarea"},[i("v-uni-textarea",{staticClass:"body-textarea",attrs:{maxlength:"400",placeholder:"个人情况不同，您可以根据自身情况来描述，便于智能系统进行准确分析，我们会保证您的隐私安全。(非必填项)"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e=t.$handleEvent(e),t.search(e)},input:function(e){e=t.$handleEvent(e),t.search(e)},focus:function(e){e=t.$handleEvent(e)}}}),i("v-uni-view",{staticClass:"textarea-number"},[t._v(t._s(t.textnumber)+"/400")])],1)],1),i("v-uni-view",{staticClass:"body-posture-title"},[t._v("上传照片"),i("v-uni-view",{staticClass:"shoot",on:{click:function(e){e=t.$handleEvent(e),t.shootBtn(e)}}},[t._v("拍摄须知  ")])],1),i("v-uni-view",{staticClass:"img-upload"},[i("v-uni-view",{staticClass:"posture-noneborder"},[i("v-uni-view",{staticClass:"up-body"},[i("v-uni-view",{staticClass:"up_files"},[[t.imageList[0].imgfile?i("v-uni-view",{staticClass:"up_file"},[i("v-uni-image",{staticClass:"up_img",attrs:{src:t.imageList[0].imgUrl,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"close-view",on:{click:function(e){e=t.$handleEvent(e),t.close(0)}}},[t._v("x")])],1):t._e()],t.imageList[0].buttonfile?i("v-uni-view",{staticClass:"up_button"},[i("v-uni-view",{staticClass:"up_input",on:{click:function(e){e=t.$handleEvent(e),t.chooseImg(0)}}})],1):t._e()],2)],1),i("v-uni-view",{staticClass:"shitu-cont"},[t._v("正视图"),i("v-uni-text",{staticClass:"promptBut",on:{click:function(e){e=t.$handleEvent(e),t.promptBut(0)}}},[t._v("")])],1)],1),i("v-uni-view",{staticClass:"posture-noneborder"},[i("v-uni-view",{staticClass:"up-body"},[i("v-uni-view",{staticClass:"up_files"},[[t.imageList[2].imgfile?i("v-uni-view",{staticClass:"up_file"},[i("v-uni-image",{staticClass:"up_img",attrs:{src:t.imageList[2].imgUrl,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"close-view",on:{click:function(e){e=t.$handleEvent(e),t.close(2)}}},[t._v("x")])],1):t._e()],t.imageList[2].buttonfile?i("v-uni-view",{staticClass:"up_button"},[i("v-uni-view",{staticClass:"up_input",on:{click:function(e){e=t.$handleEvent(e),t.chooseImg(2)}}})],1):t._e()],2)],1),i("v-uni-view",{staticClass:"shitu-cont"},[t._v("左视图"),i("v-uni-text",{staticClass:"promptBut",on:{click:function(e){e=t.$handleEvent(e),t.promptBut(2)}}},[t._v("")])],1)],1),i("v-uni-view",{staticClass:"posture-noneborder"},[i("v-uni-view",{staticClass:"up-body"},[i("v-uni-view",{staticClass:"up_files"},[[t.imageList[3].imgfile?i("v-uni-view",{staticClass:"up_file"},[i("v-uni-image",{staticClass:"up_img",attrs:{src:t.imageList[3].imgUrl,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"close-view",on:{click:function(e){e=t.$handleEvent(e),t.close(3)}}},[t._v("x")])],1):t._e()],t.imageList[3].buttonfile?i("v-uni-view",{staticClass:"up_button"},[i("v-uni-view",{staticClass:"up_input",on:{click:function(e){e=t.$handleEvent(e),t.chooseImg(3)}}})],1):t._e()],2)],1),i("v-uni-view",{staticClass:"shitu-cont"},[t._v("右视图"),i("v-uni-text",{staticClass:"promptBut",on:{click:function(e){e=t.$handleEvent(e),t.promptBut(3)}}},[t._v("")])],1)],1)],1),i("v-uni-view",{staticClass:"posture-tishimsg"},[t._v("请尽可能上传清晰标准的图片,以便于我们能够更加准确的。此检测不能作为就医凭据,此检测意在帮您发现潜在风险,若您的病疾已经严重,我们建议您及时就医。")]),i("v-uni-view",{staticClass:"login-button"},[i("v-uni-button",{staticClass:"normalButton",attrs:{disabled:t.disaBled},on:{click:function(e){e=t.$handleEvent(e),t.obtainCode()}}},[t._v("提交")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.promptBody,expression:"promptBody"}],staticClass:"prompt-body",on:{click:function(e){e=t.$handleEvent(e),t.promptBtn(e)}}},[i("v-uni-view",{staticClass:"prompt-cont"},[i("v-uni-image",{attrs:{src:t.promptImg}})],1)],1)],1)},a=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a})}}]);