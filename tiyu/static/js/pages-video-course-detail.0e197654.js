(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-course-detail"],{2186:function(e,t,i){"use strict";i.r(t);var n=i("a4c8"),o=i("d0b5");for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);i("dc26");var s=i("2877"),l=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"8072ed70",null);t["default"]=l.exports},"2b21":function(e,t,i){"use strict";var n=i("b31f"),o=i.n(n);o.a},"395d":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'.none-reply[data-v-8072ed70]{width:%?304?%;margin:%?100?% auto %?140?%;text-align:center;opacity:.5}.none-reply>uni-image[data-v-8072ed70]{width:%?200?%;height:%?114?%}.none-reply>uni-view[data-v-8072ed70]{margin-top:%?20?%;font-size:%?26?%;color:#333}.share[data-v-8072ed70]{margin:%?40?% %?60?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.share-icon[data-v-8072ed70]{font-size:%?80?%;color:#1aad19}.share-font[data-v-8072ed70]{font-size:%?28?%;margin-top:%?10?%}.msg[data-v-8072ed70]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.msg uni-image[data-v-8072ed70]{width:%?220?%;height:%?220?%;border-radius:%?8?%}.msg-right[data-v-8072ed70]{padding:%?10?% %?20?%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.msg-title[data-v-8072ed70]{font-size:%?32?%;line-height:%?44?%}.msg-member[data-v-8072ed70]{font-size:%?26?%;line-height:%?60?%}.msg-price>uni-text[data-v-8072ed70]{font-size:%?26?%;color:#03b2ca;line-height:%?34?%}.msg-line[data-v-8072ed70]{display:inline-block;height:%?20?%;border-left:1px solid #03b2ca;margin:0 %?24?%}.price-flex[data-v-8072ed70]{margin-top:%?24?%;line-height:%?50?%;margin-left:%?40?%}.price[data-v-8072ed70]{font-size:%?36?%;color:#03b2ca}.look-num[data-v-8072ed70]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:%?24?%;color:#999;line-height:%?34?%}.open-membership[data-v-8072ed70]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:%?50?%;padding:0 %?25?%}.open-membership>uni-view[data-v-8072ed70]{font-size:%?28?%;line-height:%?40?%}.open-membership>uni-view:first-child>uni-text[data-v-8072ed70]{padding-right:%?10?%;color:#fe5960}.open-membership>uni-view[data-v-8072ed70]:last-child{color:rgba(0,0,0,.7)}.scroll-x[data-v-8072ed70]{width:100%;white-space:nowrap}.scroll-item[data-v-8072ed70]{width:%?180?%;margin-right:%?44?%;display:inline-block}.scroll-item[data-v-8072ed70]:last-child{margin:0}.img-box[data-v-8072ed70]{width:%?180?%;height:%?180?%;overflow:hidden;border-radius:%?8?%;position:relative}.play-btn[data-v-8072ed70]{position:absolute;top:%?40?%;left:%?60?%;font-size:%?60?%;font-weight:700;color:#fff}.img-box>uni-image[data-v-8072ed70]{width:100%;height:100%}.scroll-msg[data-v-8072ed70]{width:%?168?%;margin-top:%?16?%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;font-size:%?24?%;color:#999;line-height:%?30?%}.video-intro[data-v-8072ed70]{font-size:%?30?%;color:rgba(0,0,0,.7);line-height:%?44?%;padding-bottom:0}.apply-crowd[data-v-8072ed70]{margin:%?28?% 0 %?40?%}.crowd-item[data-v-8072ed70]{position:relative;font-size:%?28?%;color:rgba(0,0,0,.7);line-height:%?48?%}.crowd-item[data-v-8072ed70]:before{content:"";display:inline-block;width:%?14?%;height:%?14?%;margin:%?0?% %?10?% %?5?%;border-radius:50%;background:#9b9b9b}\n/* 20190307 start*/\n/* .btns{\n\tposition: fixed;\n\tleft: 0;\n\tbottom: 0; \n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\theight: 76upx;\n\tbackground-color: #FFFFFF;\n\tpadding: 30upx 0;\n\tbox-shadow: 0 0 8upx rgba(240,242,246,1);\n}\n.btn{\n\theight: 76upx;\n\tline-height: 76upx;\n\tpadding: 0 25upx;\n\tfont-size:28upx;\n\tbackground:rgba(240,242,246,1);\n\tborder-radius:8upx;\n}\n.active-btn{\n\tbackground:linear-gradient(135deg,rgba(164,238,247,1) 0%,rgba(107,216,237,1) 100%);\n\tcolor: #000;\n} */.buy-btn[data-v-8072ed70]{position:fixed;height:%?108?%;line-height:%?108?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;left:0;bottom:0;right:0;color:#fff;background-color:#fe5960;-webkit-box-shadow:0 0 %?8?% #f0f2f6;box-shadow:0 0 %?8?% #f0f2f6;font-size:%?32?%;display:flex}\n/* 20190307 end*/.like-active[data-v-8072ed70]{color:#6bd8ed}',""])},5283:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("8d93"));function o(e){return e&&e.__esModule?e:{default:e}}var a={props:{show:{type:Boolean,default:!1},obj:Object},data:function(){var e=0;return e=44,{offsetTop:e,shareChannel:[{iconfont:"&#xe634;",channel:"WXSenceTimeline",subMsg:"微信朋友圈"},{iconfont:"&#xe633;",channel:"WXSceneSession",subMsg:"微信好友"}]}},methods:{hide:function(){this.$emit("hidePopup")},handleToShare:function(e,t){var i=uni.getStorageSync("token"),o=uni.getStorageSync("user_Id"),a=this.obj["href"],s=this.obj["title"],l=this.obj["summary"],r=this.obj["imageUrl"];uni.request({url:this.$webUrl+this.$userSharingRecord,header:{token:i},data:{href:a,shareChannel:t,shareContent:l,shareImg:r,shareTitle:s,shareType:0,userId:o},method:"POST",success:function(t){console.log("分享。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。"),console.log(JSON.stringify(t)),0==t.data.code?uni.share({provider:"weixin",scene:e,type:0,href:a,title:s,summary:l,imageUrl:r,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail:"+JSON.stringify(e))}}):n.default.notLogin(t.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})}}};t.default=a},7375:function(e,t,i){var n=i("395d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("7a00bc44",n,!0,{sourceMap:!1,shadowMode:!1})},"8d93":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={notLogin:function(e){var t=e.code,i=e.msg;100005001!=t&&100005002!=t||(i="token不能为空"==i?"未登录":i.replace(/token/g,"登录"),uni.showToast({icon:"none",title:i,duration:1500}),setTimeout(function(){uni.switchTab({url:"/pages/center/center"})},1500))}};t.default=n},"9dd6":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".uni-mask[data-v-405467ff]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-405467ff]{position:fixed;bottom:0;z-index:999;background-color:#fff;-webkit-box-shadow:0 0 %?30?% rgba(0,0,0,.1);box-shadow:0 0 %?30?% rgba(0,0,0,.1)}.uni-popup-bottom[data-v-405467ff]{left:0;bottom:0;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.share-icon[data-v-405467ff]{font-size:%?80?%;color:#1aad19}.share-font[data-v-405467ff]{font-size:%?28?%;margin-top:%?10?%}.share[data-v-405467ff]{margin:%?40?% %?60?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}",""])},a4c8:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"first-title"},[e._v(e._s(e.pageTitle))]),i("v-uni-view",{staticClass:"module border-underline"},[i("v-uni-view",{staticClass:"msg"},[i("v-uni-view",[i("v-uni-image",{attrs:{src:e.thumbnail}})],1),i("v-uni-view",{staticClass:"msg-right"},[i("v-uni-view",{staticClass:"msg-title"},[e._v(e._s(e.title)),i("v-uni-view",{staticClass:"msg-member"},[e._v(e._s(e.tag))])],1),i("v-uni-view",{staticClass:"msg-price"},[i("v-uni-text",[e._v(e._s(e.author))]),i("v-uni-text",{staticClass:"msg-line"}),i("v-uni-text",[e._v(e._s(e.episode)+e._s(e.episodeText))])],1)],1),i("v-uni-view",{on:{click:function(t){t=e.$handleEvent(t),e.handleToCollect(t)}}},[e.isCollectActive?i("v-uni-text",[i("v-uni-text",{staticClass:"iconfont",class:[e.isCollectActive?"like-active":""]},[e._v("")])],1):i("v-uni-text",[i("v-uni-text",{staticClass:"iconfont",class:[e.isCollectActive?"like-active":""]},[e._v("")])],1)],1)],1),i("v-uni-view",{staticClass:"price-flex"},[i("v-uni-view",{staticClass:"price"},[i("v-uni-text",[e._v("￥"+e._s(e.price))])],1),i("v-uni-view",{staticClass:"look-num"},[i("v-uni-text",[e._v("共有"+e._s(e.playNumber)+"人观看了这个视频")])],1)],1)],1),i("v-uni-view",{staticClass:"module-title"},[e._v("课程小节")]),i("v-uni-scroll-view",{staticClass:"scroll-x module border-underline",attrs:{"scroll-x":""}},e._l(e.videoList,function(t,n){return i("v-uni-view",{key:n,staticClass:"scroll-item",attrs:{"data-videoid":t.id,"data-videoflag":t.videoFlag},on:{click:function(t){t=e.$handleEvent(t),e.handleToVideoPlay(t)}}},[i("v-uni-view",{staticClass:"img-box"},[i("v-uni-image",{attrs:{src:t.thumbnail}}),1==t.videoFlag?i("v-uni-view",{staticClass:"play-btn"},[i("v-uni-text",{staticClass:"iconfont"},[e._v("")])],1):e._e()],1),i("v-uni-view",{staticClass:"scroll-msg"},[e._v(e._s(t.title))])],1)}),1),i("v-uni-view",{staticClass:"module-title"},[e._v("视频简介")]),i("v-uni-view",{staticClass:"module video-intro"},[e._v(e._s(e.synopsis))]),i("v-uni-view",{staticClass:"module-title"},[e._v("适应人群")]),i("v-uni-view",{staticClass:"apply-crowd border-underline module"},e._l(e.forPeoples,function(t,n){return i("v-uni-view",{key:n,staticClass:"crowd-item"},[e._v(e._s(t))])}),1),2!=e.flag?i("v-uni-view",[i("v-uni-view",{staticClass:"module-title"},[e._v("热门评论")]),e.videoCommentList.length?i("v-uni-view",{staticClass:"module comments"},e._l(e.videoCommentList,function(t,n){return i("v-uni-view",{key:n,staticClass:"comment"},[i("v-uni-view",[t.anonymity?i("v-uni-image",{attrs:{src:"../../static/avatar_you.png"}}):i("v-uni-image",{attrs:{src:t.headSculpture?t.headSculpture:"../../static/avatar_you.png"}})],1),i("v-uni-view",{staticClass:"comment-sub"},[i("v-uni-view",{staticClass:"comment-from"},[e._v(e._s(t.anonymity?"匿名":t.userName))]),i("v-uni-view",{staticClass:"comment-time"},[e._v(e._s(t.createDate))]),i("v-uni-view",{staticClass:"comment-content"},[e._v(e._s(t.content))])],1)],1)}),1):i("v-uni-view",{staticClass:"none-reply"},[i("v-uni-image",{attrs:{src:"/static/no-reply.png"}}),i("v-uni-view",[e._v("还没有评论 快来说两句")])],1)],1):e._e(),e.price?i("v-uni-view",{staticClass:"buy-btn",on:{click:function(t){t=e.$handleEvent(t),e.handleToVideoPay(t)}}},[e._v("购买课程")]):e._e(),i("share",{attrs:{show:e.showPopupBottom,obj:e.shareObj},on:{hidePopup:function(t){t=e.$handleEvent(t),e.hidePopup(t)}}})],1)},o=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o})},b31f:function(e,t,i){var n=i("9dd6");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("d56491be",n,!0,{sourceMap:!1,shadowMode:!1})},b83b:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"uni-mask",style:{top:e.offsetTop+"px"},on:{click:function(t){t=e.$handleEvent(t),e.hide(t)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"uni-popup uni-popup-bottom"},e._l(e.shareChannel,function(t,n){return i("v-uni-view",{key:n,staticClass:"share",on:{click:function(i){i=e.$handleEvent(i),e.handleToShare(t.channel,t.subMsg)}}},[i("v-uni-view",[i("v-uni-text",{staticClass:"iconfont share-icon",domProps:{innerHTML:e._s(t.iconfont)}})],1),i("v-uni-view",{staticClass:"share-font"},[e._v(e._s(t.subMsg))])],1)}),1)],1)},o=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o})},d0b5:function(e,t,i){"use strict";i.r(t);var n=i("ec51"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=o.a},dc26:function(e,t,i){"use strict";var n=i("7375"),o=i.n(n);o.a},e108:function(e,t,i){"use strict";i.r(t);var n=i("b83b"),o=i("fb63");for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);i("2b21");var s=i("2877"),l=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"405467ff",null);t["default"]=l.exports},ec51:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("e108"));function o(e){return e&&e.__esModule?e:{default:e}}var a={data:function(){return{pageTitle:"课程介绍",courseId:"",thumbnail:"",title:"",synopsis:"",commentNumber:"",forPeoples:[],episode:"",episodeText:"小节",playNumber:"",price:"",author:"",tag:"",courseObj:{},videoList:[],videoCommentList:[],isCollectActive:!1,showPopupBottom:!1,shareObj:{},token:"",flag:1}},components:{share:n.default},onLoad:function(e){this.flag=e.flag,2==this.flag?(this.pageTitle="器材介绍",this.episodeText="种器材"):3==this.flag&&(this.pageTitle="课程和器材介绍"),this.token=uni.getStorageSync("token"),this.courseId=e.courseId,this.getCourseDetailInfo(e.courseId)},onNavigationBarButtonTap:function(e){1==e.index?uni.navigateBack({delta:1}):0==e.index&&(this.hidePopup(),this.shareObj["href"]=this.$h5Url+"/pages/video/course-detail?courseId="+this.courseId,this.shareObj["title"]=this.title,this.shareObj["summary"]=this.synopsis,this.shareObj["imageUrl"]=this.thumbnail,this.showPopupBottom=!0)},methods:{isLogin:function(){uni.getStorageSync("user_Id")||uni.navigateTo({url:"../login/login"})},hidePopup:function(){this.showPopupBottom=!1},handleToVideoPay:function(){var e=this;this.isLogin();var t=parseInt(this.flag)+1;uni.request({url:this.$webUrl+this.$paymentCoures,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",token:this.token},data:{itemId:this.courseId,itemName:this.title,skuPicUrl:this.thumbnail,orderType:t,totalAmount:this.price,orderSource:1},success:function(t){t=t.data,console.log(t),0==t.code&&uni.navigateTo({url:"order-form?id="+e.courseId+"&name="+e.title+"&img="+e.thumbnail+"&type="+e.flag+"&orderId="+t.data.orderId+"&orderNum="+t.data.orderNum+"&price="+e.price})},fail:function(){},complete:function(){}})},handleToVideoPlay:function(e){var t=e.currentTarget.dataset,i="";1==t.videoflag?i="video-detail?videoId="+t.videoid:2==t.videoflag&&(i="kit-detail?videoId="+t.videoid),uni.navigateTo({url:i})},getCourseDetailInfo:function(e){var t=this,i=uni.getStorageSync("user_Info");uni.request({url:this.$webUrl+this.$getCourseDetailInfo+e,method:"GET",data:{userId:uni.getStorageSync("user_Id"),mobile:i["mobile"],userName:i["username"]},success:function(e){if(e=e.data,0==e.code&&e.data){var i=e.data;t.thumbnail=i.thumbnail,t.title=i.title,t.tag=i.tag,t.synopsis=i.synopsis,t.commentNumber=i.commentNumber,t.forPeoples=i.forPeoples,t.synopsis=i.synopsis,t.episode=i.episode,t.playNumber=i.playNumber,t.price=i.price,t.author=i.author,t.videoList=e.data.videoList,t.videoCommentList=e.data.videoCommentList,1==i.collectStatus?t.isCollectActive=!0:0==i.collectStatus&&(t.isCollectActive=!1)}},fail:function(){},complete:function(){}})},handleToCollect:function(){var e=this;this.isLogin(),uni.request({url:this.$webUrl+this.$handleToCollect,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",token:this.token},data:{marking:this.courseId,type:1},success:function(t){t=t.data,0==t.code&&(e.isCollectActive=!0)},fail:function(){},complete:function(){}})}}};t.default=a},fb63:function(e,t,i){"use strict";i.r(t);var n=i("5283"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=o.a}}]);