(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-yanzhengma"],{"081a":function(t,e,n){"use strict";n.r(e);var i=n("2de2"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"2de2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{loading:!1,status:!1,num:60,huoqucode:"重新获取",mobilenumber:"",phonenumber:""}},mounted:function(){this.aCode()},methods:{aCode:function(){var t="";uni.getStorage({key:"AreaCode",success:function(e){e.data.code,t=e.data.phoneNumber}}),this.mobilenumber=t.substring(0,3)+"****"+t.substring(7,11),this.phonenumber=t,this.makeRequest()},makeRequest:function(){var t=this;this.loading=!0,uni.request({url:this.$msgUrl+this.$sendMessage,header:{"content-type":"application/x-www-form-urlencoded"},data:{mobile:this.phonenumber},method:"POST",success:function(e){return 0==e.data.code?(t.obtainCode(),void uni.showToast({icon:"none",duration:3e3,title:"发送成功"})):100003004==e.data.code?void uni.showToast({icon:"none",duration:3e3,title:"短信发送次数超限"}):void uni.showToast({icon:"none",duration:3e3,title:"发送失败"})},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})},complete:function(){t.loading=!1}})},codenum:function(t){var e=this,n=t.detail.value.length,i=t.detail.value;4==n&&uni.request({url:this.$webUrl+this.$captchaLogin,header:{"content-type":"application/x-www-form-urlencoded"},data:{mobile:this.phonenumber,captcha:i},method:"POST",success:function(t){var e=t.data.data;uni.setStorage({key:"user_Info",data:{username:e.username,headSculpture:e.headSculpture,remarks:e.remarks,gender:e.gender,birthday:e.birthday,email:e.email,mobile:e.mobile}}),uni.setStorage({key:"user_Id",data:e.id}),uni.setStorage({key:"token",data:t.data.token}),0==t.data.code&&uni.reLaunch({url:"../index/index"}),2==t.data.code&&(uni.setStorage({key:"user_Info",data:{mobile:e.mobile}}),uni.setStorage({key:"user_Id",data:e.id}),uni.setStorage({key:"token",data:t.data.token}),uni.reLaunch({url:"../login/set"})),10007!=t.data.code&&100005005!=t.data.code&&100005006!=t.data.code||uni.showToast({icon:"none",duration:3e3,title:"验证码错误"})},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})},complete:function(){e.loading=!1}})},obtainCode:function(){var t=this;this.status||(this.status=!0,this.loadingTiming(),this.timer=setInterval(function(){0===t.num?(t.timer&&t.clearTimer(),t.reset()):t.loadingTiming()},1e3))},reset:function(){this.num=60,this.status=!1,this.disabled="",this.huoqucode="重新获取"},loadingTiming:function(){this.num-=1,this.huoqucode="获取中("+this.num+")"},clearTimer:function(){clearInterval(this.timer),this.timer=null}}};e.default=i},"2fd7":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".login-body[data-v-5cd0d993]{width:%?660?%;margin:0 auto}.login-title[data-v-5cd0d993]{margin:0}.login-password[data-v-5cd0d993]{font-size:%?34?%;color:#4a4a4a}.login-mobile-cont[data-v-5cd0d993]{width:100%;height:%?54?%;padding:%?40?% 0 %?10?%;border-bottom:1px solid #efefef;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative}.login-mobile-input[data-v-5cd0d993]{padding-left:%?20?%}.login-password[data-v-5cd0d993]{padding-top:%?50?%}.login-xianshi[data-v-5cd0d993]{height:%?54?%;line-height:%?54?%;position:absolute;right:%?0?%;top:%?40?%;font-size:%?26?%}.huoqu-button[data-v-5cd0d993]{font-size:%?26?%;color:#03b2ca;background:none}.huoqu-button.button-hover[data-v-5cd0d993]{background:none}.huoqu-button[data-v-5cd0d993]:after{border:0}.login-tishi[data-v-5cd0d993]{padding-top:%?40?%;font-size:%?26?%;color:#ccc}.huoqu-button[disabled][data-v-5cd0d993]:not([type]),.huoqu-button[disabled][type=default][data-v-5cd0d993]{background:none;font-size:%?26?%;color:#9b9b9b}",""])},"30bf":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login-body"},[n("v-uni-view",{staticClass:"login-title"},[t._v("请输入验证码")]),n("v-uni-view",{staticClass:"login-mobile-cont"},[n("v-uni-view",{staticClass:"login-mobile-input"},[n("v-uni-input",{attrs:{type:"number",maxlength:"4"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e=t.$handleEvent(e),t.codenum(e)},input:function(e){e=t.$handleEvent(e),t.codenum(e)}}})],1),n("v-uni-view",{staticClass:"login-xianshi"},[n("v-uni-button",{staticClass:"huoqu-button",attrs:{disabled:t.status,loading:t.loading},on:{click:function(e){e=t.$handleEvent(e),t.makeRequest(e)}}},[t._v(t._s(t.huoqucode))])],1)],1),n("v-uni-view",{staticClass:"login-tishi"},[t._v("已经向"+t._s(t.mobilenumber)+"发送了一个验证码")])],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},3647:function(t,e,n){var i=n("2fd7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("9af8e7f4",i,!0,{sourceMap:!1,shadowMode:!1})},"4cd9":function(t,e,n){"use strict";var i=n("3647"),o=n.n(i);o.a},e9bb:function(t,e,n){"use strict";n.r(e);var i=n("30bf"),o=n("081a");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("4cd9");var d=n("2877"),u=Object(d["a"])(o["default"],i["a"],i["b"],!1,null,"5cd0d993",null);e["default"]=u.exports}}]);