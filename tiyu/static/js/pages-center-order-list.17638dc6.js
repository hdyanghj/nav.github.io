(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-order-list"],{"048f":function(t,e,i){"use strict";var a=i("a9a7"),n=i.n(a);n.a},"26e7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"order-list-title"},[t._v("我的订单")]),i("v-uni-view",{staticClass:"tag-nav"},t._l(t.tagList,function(e,a){return i("v-uni-view",{staticClass:"tag-nav-body",class:[a==t.active?"tag-active":""],on:{click:function(e){e=t.$handleEvent(e),t.changeHistory(a)}}},[t._v(t._s(e))])}),1),i("v-uni-view",{staticClass:"order-list-body"},t._l(t.orderList,function(e){return i("v-uni-view",{staticClass:"list-body",class:e.cancelBg},[i("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.plyBtn(e.totalAmount,e.id,e.orderNum,"查看订单")}}},[i("v-uni-view",{staticClass:"list-details"},[e.imgview?i("v-uni-view",{staticClass:"list-details-left"},[i("v-uni-image",{attrs:{src:t.imgDomain+e.skuPicUrl}})],1):t._e(),i("v-uni-view",{staticClass:"list-details-right",class:t.noImg},[i("v-uni-view",{staticClass:"list-details-title"},[t._v(t._s(e.itemName))]),i("v-uni-view",{staticClass:"list-details-cont"},[t._v("类型："+t._s(e.typetext))]),i("v-uni-view",{staticClass:"list-details-cont"},[t._v("订单编号："+t._s(e.orderNum))]),i("v-uni-view",{staticClass:"list-details-cont"},[t._v("下单时间："+t._s(e.createDate))])],1)],1),i("v-uni-view",{staticClass:"list-details-sum"},[t._v(""+t._s(e.totalAmount))])],1),i("v-uni-view",{staticClass:"list-details-btn"},[e.cancelShow?i("v-uni-view",{staticClass:"details-btn",class:e.cancelBtn,on:{click:function(i){i=t.$handleEvent(i),t.cancelBtn(e.id)}}},[t._v(t._s(e.cancelText))]):t._e(),e.plyShow?i("v-uni-view",{staticClass:"details-btn",class:e.activeBtn,on:{click:function(i){i=t.$handleEvent(i),t.plyBtn(e.totalAmount,e.id,e.orderNum,e.btnText)}}},[t._v(t._s(e.btnText))]):t._e()],1)],1)}),1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"34cf":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.order-list[data-v-62d08487]{width:%?750?%;margin:0 auto}.order-list-title[data-v-62d08487]{padding:0 %?45?%;height:%?80?%;line-height:%?80?%;font-size:%?36?%}.tag-nav[data-v-62d08487]{width:%?660?%;margin:0 auto;padding:%?20?% %?45?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-shadow:1px 1px 4px rgba(0,0,0,.2);box-shadow:1px 1px 4px rgba(0,0,0,.2)}.tag-nav-body[data-v-62d08487]{width:%?144?%;height:%?80?%;line-height:%?80?%;text-align:center;border-radius:%?10?%;font-size:%?32?%;color:#000;position:relative}.tag-active[data-v-62d08487]{color:#03b2ca}.tag-active[data-v-62d08487]:after{content:"";width:%?80?%;height:2px;background:#03b2ca;position:absolute;display:block;bottom:0;left:50%;margin-left:%?-40?%}.order-list-body[data-v-62d08487]{padding-top:%?40?%}.list-body[data-v-62d08487]{width:%?580?%;padding:%?40?%;margin:0 auto %?40?%;border-radius:%?10?%;-webkit-box-shadow:1px 1px 4px rgba(0,0,0,.2);box-shadow:1px 1px 4px rgba(0,0,0,.2)}.list-details[data-v-62d08487]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.list-details-left[data-v-62d08487]{width:%?180?%;height:%?180?%;padding-right:%?20?%}.list-details-left uni-image[data-v-62d08487]{width:100%;height:100%}.list-details-right[data-v-62d08487]{\n\t/* flex: 1; */}.no-img[data-v-62d08487]{width:%?580?%}.hvae-img[data-v-62d08487]{width:%?380?%}.list-details-title[data-v-62d08487]{font-size:%?30?%;padding-bottom:%?20?%;display:block;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.list-details-cont[data-v-62d08487]{font-size:%?22?%;padding-bottom:%?10?%}.list-details-sum[data-v-62d08487]{text-align:right;font-family:texticons;color:red}.list-details-btn[data-v-62d08487]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-top:%?20?%}.details-btn[data-v-62d08487]{width:%?160?%;height:%?60?%;line-height:%?60?%;text-align:center;border-radius:%?30?%;border:1px solid #9b9b9b;font-size:%?26?%;margin:0 %?10?%}.redborder[data-v-62d08487]{border-color:red;color:red}.greenborder[data-v-62d08487]{border-color:green;color:green}.cancel-bg[data-v-62d08487]{background:#f4f4f4}',""])},"42b3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{imgDomain:"",active:0,tagList:["全部","待付款","待收货","已完成"],orderList:[],userId:"",token:"",cancelBg:"",tagNum:"",noImg:""}},onLoad:function(){var t=this;t.imgDomain=t.$store.state.center.imgDomain},onNavigationBarButtonTap:function(t){0==t.index&&uni.navigateBack({delta:1})},mounted:function(){this.loadExecution()},methods:{loadExecution:function(){var t=this,e="";uni.getStorage({key:"token",success:function(t){e=t.data}}),t.token=e;var i="";uni.getStorage({key:"user_Id",success:function(t){i=t.data}}),t.userId=i,""==t.token&&t.logout(),""!=t.token&&t.getFunction(0)},changeHistory:function(t){this.active=t,console.log(t),this.getFunction(t)},cancelBtn:function(t){var e=this;uni.showModal({title:"取消订单",content:"您确定要取消当前订单？",success:function(i){i.confirm?uni.request({url:e.$webUrl+e.$changeOrder,header:{token:""+e.token},data:{id:t,payState:4,status:3},method:"PUT",success:function(t){var i=t;console.log(i),e.getFunction(e.tagNum)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}}):i.cancel&&console.log("用户点击取消")}})},plyBtn:function(t,e,i,a){var n=this;console.log(t,e,i,a),"立即支付"==a&&uni.navigateTo({url:"/pages/communication/pay?fee="+t+"&orderId="+e+"&orderNum="+i}),"查看订单"==a&&uni.navigateTo({url:"./order-details?orderId="+e}),"确认收货"==a&&uni.showModal({title:"确认收货",content:"已收到货，立即确认收货。",success:function(t){t.confirm?uni.request({url:n.$webUrl+n.$changeOrder,header:{token:""+n.token},data:{id:e,setState:3,status:1},method:"PUT",success:function(t){n.getFunction(n.tagNum)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}}):t.cancel&&console.log("用户点击取消")}})},getFunction:function(t){var e=this,i=this;i.tagNum=t;var a=new Object;0==t&&(a={userId:i.userId,page:1,limit:20}),1==t&&(a={userId:i.userId,page:1,limit:20,payState:3}),2==t&&(a={userId:i.userId,page:1,limit:20,status:2,payState:1}),3==t&&(a={userId:i.userId,page:1,limit:20,status:1}),uni.request({url:i.$webUrl+i.$orderList,header:{"content-type":"application/x-www-form-urlencoded",token:""+i.token},data:a,method:"GET",success:function(t){var a=t.data.data.list;console.log(a);for(var n=0;n<a.length;n++){if(""==a[n].skuPicUrl||null==a[n].skuPicUrl)i.$set(a[n],"imgview",!1),i.noImg="no-img";else{var s=a[n].skuPicUrl.substring(0,4);if(console.log(s),"http"==s){var o=i.GetUrlRelativePath(a[n].skuPicUrl);console.log(o),i.$set(a[n],"skuPicUrl",o)}i.$set(a[n],"imgview",!0),i.noImg="hvae-img"}1==a[n].orderType&&i.$set(a[n],"typetext","咨询"),2==a[n].orderType&&i.$set(a[n],"typetext","课程"),3==a[n].orderType&&i.$set(a[n],"typetext","器材"),4==a[n].orderType&&i.$set(a[n],"typetext","课程器材套餐"),4==a[n].payState&&i.$set(a[n],"cancelBg","cancel-bg"),3==a[n].payState&&(console.log("1",a[n].payState),i.$set(a[n],"btnText","立即支付"),i.$set(a[n],"cancelText","取消订单"),i.$set(a[n],"cancelBtn","redborder"),i.$set(a[n],"activeBtn","greenborder"),i.$set(a[n],"cancelShow",!0),i.$set(a[n],"plyShow",!0)),1==a[n].payState&&(1!=a[n].setState&&2!=a[n].setState||(console.log("2",a[n].payState),i.$set(a[n],"plyShow",!0),i.$set(a[n],"btnText","确认收货"))),1==a[n].status&&(i.$set(a[n],"btnText","查看订单"),i.$set(a[n],"plyShow",!0))}e.orderList=a},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接失败"})}})},GetUrlRelativePath:function(t){var e=t.toString(),i=e.split("//"),a=i[1].indexOf("/"),n=i[1].substring(a);return-1!=n.indexOf("?")&&(n=n.split("?")[0]),n}}};e.default=a},a9a7:function(t,e,i){var a=i("34cf");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("417dc18a",a,!0,{sourceMap:!1,shadowMode:!1})},b712:function(t,e,i){"use strict";i.r(e);var a=i("26e7"),n=i("ba11");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("048f");var o=i("2877"),l=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"62d08487",null);e["default"]=l.exports},ba11:function(t,e,i){"use strict";i.r(e);var a=i("42b3"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a}}]);